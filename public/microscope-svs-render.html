<head>
  <link rel="stylesheet" href="./static/microscope-svs-render/svs.css">
  <script src="./static/microscope-svs-render/svs.js"></script>
  <title>Whole Slide Image Viewer</title>
  <link rel='stylesheet' 
    type='text/css'
    media='screen'
    href='./static/microscope-svs-render/style.css'/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/openseadragon/2.4.2/openseadragon.min.js"></script>
<script type="text/javascript">
const urlParams = new URLSearchParams(window.location.search);
function loadImage() {
  // document url
  window.docUrl = ""
  if (urlParams) { docUrl = urlParams.get('file'); }
  if (docUrl == null || docUrl == "") {
    if (window.parent) { docUrl = window.parent.svsFileParam }
  }
  if (docUrl == null || docUrl == "") {
    if (window.opener) { docUrl = window.opener.svsFileParam }
  }
  if (docUrl == null || docUrl == "") {
    document.getElementById("noUrl").removeAttribute("hidden");
  } else {
    document.getElementById("viewer").removeAttribute("hidden");
    svs.loadImage(docUrl);
  }
}
</script>
</head>
<body>
  <div id="viewer" hidden>
      <h2 id="imageId"></h2>
      <div style ="display: flex; flex-direction: row;">
          <div id="openseadragon1" class="openseadragon"></div>
      </div>
  </div>
  <div id="noUrl" hidden>Missing URL, nothing to display!</div>
  <script type="text/javascript">loadImage()</script>
</body>
</html>
